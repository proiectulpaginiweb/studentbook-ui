<div class="row" ng-controller="accountsCoursesController">
  <div class="col-md-12" ng-if="dataIsLoaded">
    <h3>
      {{ course.title }}
      <span class="pull-right">
        <span class="label label-primary">{{ course.years }}</span>
        <span ng-if="course.isUserEnrolled" class="label label-success">Enrolled</span>
      </span>
    </h3>
    <p>{{ course.description }}</p>

    <h3>Timeline</h3>

    <div class="list-group">
      <a ng-repeat="lesson in lessons"
         ui-sref="index.account.courses.lessons.show({courseId: course.id, lessonId: lesson.id})"
         class="list-group-item">

        <h4 class="list-group-item-heading">
          {{ lesson.title }}
          <span class="pull-right">
            <span ng-if="lesson.attended < 10" class="label label-warning">{{ lesson.attended }} attended</span>
            <span ng-if="lesson.attended >= 10 && lesson.attended <= 30" class="label label-primary">{{ lesson.attended }} attended</span>
            <span ng-if="lesson.attended > 30" class="label label-success">{{ lesson.attended }} attended</span>
            <span class="label label-default">Lesson</span>
            <span ng-if="lesson.userAttendance > 0" class="label label-success">+1</span>
            <span ng-if="lesson.userAttendance == 0" class="label label-warning">+0</span>
            <span ng-if="lesson.userAttendance < 0" class="label label-danger">-1</span>
          </span>
        </h4>
        <p class="list-group-item-text">
          {{ lesson.description }}
        </p>
      </a>

      <a ng-repeat="homework in homeworks"
         ui-sref="index.account.courses.homeworks.show({courseId: course.id, homeworkId: homework.id})"
         class="list-group-item">

        <h4 class="list-group-item-heading">
          {{ homework.title }}
          <span class="pull-right">
            <span class="label label-default">Homework</span>
            <span class="label label-info">+0</span>
          </span>
        </h4>
        <p class="list-group-item-text">
          {{ homework.description }}
        </p>
      </a>
    </div>
  </div>
</div>
